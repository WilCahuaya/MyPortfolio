<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Para ti âœ¨ â€” GalerÃ­a Perla</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --perla-100: #f6f6f7;
        --perla-200: #e9e8e9;
        --accent: #cfcad0;
        --glass: rgba(255, 255, 255, 0.6);
        --text: #2b2b2b;
        --radius: 18px;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Poppins, system-ui;
      }
      body {
        background: linear-gradient(180deg, var(--perla-100), #fff);
        overflow-x: hidden;
        color: var(--text);
      }

      .wrap {
        max-width: 1100px;
        margin: 48px auto;
        padding: 24px;
      }
      header.hero {
        position: relative;
        border-radius: 20px;
        padding: 36px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.45),
          rgba(255, 255, 255, 0.15)
        );
        backdrop-filter: blur(6px);
        box-shadow: 0 8px 30px rgba(20, 20, 30, 0.06);
        overflow: hidden;
      }

      .hero .title {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }
      .name-badge {
        font-family: "Playfair Display";
        font-size: 36px;
        color: #1f1f1f;
      }
      .subtitle {
        font-size: 14px;
        opacity: 0.8;
      }
      .controls {
        display: flex;
        gap: 12px;
        margin-left: auto;
      }
      .btn {
        background: var(--glass);
        border: 1px solid rgba(0, 0, 0, 0.06);
        padding: 10px 14px;
        border-radius: 12px;
        cursor: pointer;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.04);
      }

      .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 16px;
        margin-top: 28px;
      }
      .card {
        position: relative;
        border-radius: 16px;
        overflow: hidden;
        background: #fff;
        cursor: pointer;
        transition: transform 0.4s, box-shadow 0.3s;
      }
      .card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.6s;
      }
      .card:hover {
        transform: translateY(-6px);
        box-shadow: 0 18px 40px rgba(30, 30, 40, 0.08);
      }
      .caption {
        position: absolute;
        left: 14px;
        bottom: 12px;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.8),
          transparent
        );
        padding: 8px 12px;
        border-radius: 12px;
        font-size: 13px;
      }

      .viewer {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(10, 10, 12, 0.6);
        backdrop-filter: blur(6px);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.35s;
      }
      .viewer.open {
        opacity: 1;
        pointer-events: auto;
      }
      .viewer .box {
        max-width: 90%;
        max-height: 86%;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 30px 60px rgba(10, 10, 20, 0.6);
        background: rgba(255, 255, 255, 0.05);
      }
      .viewer img {
        display: block;
        max-width: 100%;
        max-height: 80vh;
        width: auto;
        height: auto;
        position: relative;
        z-index: 1;
      }
      .viewer .meta {
        padding: 12px 16px;
        color: var(--perla-200);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .ending {
        margin: 40px auto 140px;
        padding: 28px;
        border-radius: 16px;
        text-align: center;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.5),
          rgba(255, 255, 255, 0.2)
        );
        font-family: "Playfair Display";
        font-size: 20px;
      }

      .shine::after {
        content: "";
        position: absolute;
        top: 0;
        left: -75%;
        width: 50%;
        height: 100%;
        background: linear-gradient(
          120deg,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.6) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: skewX(-25deg);
      }
      .shine.active::after {
        animation: shine 1.2s ease-in-out;
      }
      @keyframes shine {
        0% {
          left: -75%;
        }
        100% {
          left: 125%;
        }
      }

      @media (max-width: 560px) {
        .name-badge {
          font-size: 28px;
        }
        .controls {
          justify-content: flex-end;
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <audio id="bgAudio" loop src="music.mp3"></audio>
    <audio
      id="chime"
      src="https://cdn.pixabay.com/audio/2022/03/15/audio_6b3b03a4cb.mp3"
    ></audio>

    <div class="wrap">
      <header class="hero">
        <div class="title">
          <div>
            <div class="name-badge">âœ¨ Para ti, &lt;Nombre&gt; âœ¨</div>
            <div class="subtitle">
              Un recuerdo del aÃ±o â€” fotos acompaÃ±adas de mÃºsica
            </div>
          </div>
          <div class="controls">
            <button id="playBtn" class="btn">â–¶ Reproducir</button>
            <button id="muteBtn" class="btn">ðŸ”Š Silenciar</button>
          </div>
        </div>

        <div class="gallery" id="gallery">
          <div class="card shine" data-caption="Enero - Primera salida">
            <img
              src="https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1200&auto=format&fit=crop"
              alt="enero"
            />
          </div>
          <div class="card shine" data-caption="Febrero - Fiesta">
            <img
              src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=1200&auto=format&fit=crop"
              alt="febrero"
            />
          </div>
          <div class="card shine" data-caption="Marzo - Paseo">
            <img
              src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?q=80&w=1200&auto=format&fit=crop"
              alt="marzo"
            />
          </div>
          <div class="card shine" data-caption="Abril - CumpleaÃ±os">
            <img
              src="https://images.unsplash.com/photo-1504198453319-5ce911bafcde?q=80&w=1200&auto=format&fit=crop"
              alt="abril"
            />
          </div>
          <div class="card shine" data-caption="Mayo - Naturaleza">
            <img
              src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop"
              alt="mayo"
            />
          </div>
          <div class="card shine" data-caption="Junio - Atardecer">
            <img
              src="https://images.unsplash.com/photo-1491553895911-0055eca6402d?q=80&w=1200&auto=format&fit=crop"
              alt="junio"
            />
          </div>
        </div>
      </header>
      <div class="ending">ðŸ’– Gracias por ser parte de mi aÃ±o ðŸ’–</div>
    </div>

    <div class="viewer" id="viewer">
      <div class="box">
        <img id="viewerImg" src="" alt="" />
        <div class="meta">
          <div id="viewerCaption"></div>
          <div style="display: flex; gap: 8px">
            <button id="prevBtn" class="btn">â—€</button>
            <button id="nextBtn" class="btn">â–¶</button>
            <button id="closeBtn" class="btn">âœ•</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const gallery = document.getElementById("gallery");
      const cards = [...gallery.querySelectorAll(".card")];
      const viewer = document.getElementById("viewer");
      const viewerImg = document.getElementById("viewerImg");
      const viewerCaption = document.getElementById("viewerCaption");
      let index = 0;

      const chime = document.getElementById("chime");
      chime.volume = 0.2;

      function openViewer(i) {
        const card = cards[i];
        const img = card.querySelector("img");
        viewerImg.src = img.src;
        viewerCaption.textContent = card.dataset.caption || "";
        viewer.classList.add("open");
        index = i;
      }
      function closeViewer() {
        viewer.classList.remove("open");
      }
      function next() {
        openViewer((index + 1) % cards.length);
      }
      function prev() {
        openViewer((index - 1 + cards.length) % cards.length);
      }

      cards.forEach((c, i) => {
        c.addEventListener("click", () => openViewer(i));
        c.addEventListener("mouseenter", () => {
          c.classList.add("active");
          chime.currentTime = 0;
          chime.play();
          setTimeout(() => c.classList.remove("active"), 1200);
        });
        c.addEventListener("touchstart", () => {
          c.classList.add("active");
          chime.currentTime = 0;
          chime.play();
          setTimeout(() => c.classList.remove("active"), 1200);
        });
      });

      document.getElementById("closeBtn").onclick = closeViewer;
      document.getElementById("nextBtn").onclick = next;
      document.getElementById("prevBtn").onclick = prev;

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeViewer();
        if (e.key === "ArrowRight") next();
        if (e.key === "ArrowLeft") prev();
      });

      const audio = document.getElementById("bgAudio");
      const playBtn = document.getElementById("playBtn");
      const muteBtn = document.getElementById("muteBtn");
      function setPlayingState() {
        playBtn.textContent = audio.paused ? "â–¶ Reproducir" : "âšâš Pausar";
      }
      playBtn.onclick = async () => {
        if (audio.paused) await audio.play();
        else audio.pause();
        setPlayingState();
      };
      muteBtn.onclick = () => {
        audio.muted = !audio.muted;
        muteBtn.textContent = audio.muted ? "ðŸ”‡ Silenciado" : "ðŸ”Š Silenciar";
      };
    </script>
  </body>
</html>
